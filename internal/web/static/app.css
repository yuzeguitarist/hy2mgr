:root{
  color-scheme:light dark;
  --bg:#f7f6f4;
  --bg-elevated:#ffffff;
  --bg-muted:#f0ede7;
  --text:#1c1c1c;
  --text-muted:#6c6c6c;
  --border:#dedad2;
  --accent:#5b4b3a;
  --accent-strong:#3d3227;
  --accent-soft:#b59b7b;
  --shadow:0 14px 40px rgba(30,20,10,.08);
  --radius:16px;
  --radius-sm:12px;
  --radius-xs:8px;
  --transition:180ms ease;
}

@media (prefers-color-scheme: dark){
  :root{
    --bg:#0f0f10;
    --bg-elevated:#171717;
    --bg-muted:#1f1e1b;
    --text:#f5f5f3;
    --text-muted:#b3b0aa;
    --border:#2b2b2b;
    --accent:#b29576;
    --accent-strong:#d0b491;
    --accent-soft:#705944;
    --shadow:0 18px 46px rgba(0,0,0,.45);
  }
}

*{box-sizing:border-box}
body{
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  margin:0;
  background:var(--bg);
  color:var(--text);
  line-height:1.5;
  min-height:100vh;
  transition:background var(--transition),color var(--transition);
}

a{color:var(--accent);text-decoration:none}
a:hover{color:var(--accent-strong)}

.wrap{
  max-width:420px;
  margin:8vh auto;
  padding:28px;
  background:var(--bg-elevated);
  border:1px solid var(--border);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  animation:fadeIn 420ms ease;
}

h1,h2,h3{letter-spacing:.02em}

label{display:block;margin-top:14px;margin-bottom:6px;color:var(--text-muted);font-size:.9rem}
input,select,textarea{
  width:100%;
  padding:11px 12px;
  border-radius:var(--radius-xs);
  border:1px solid var(--border);
  background:var(--bg);
  color:var(--text);
  transition:border var(--transition),box-shadow var(--transition),background var(--transition);
}
input:focus,select:focus,textarea:focus{
  outline:none;
  border-color:var(--accent);
  box-shadow:0 0 0 3px color-mix(in srgb, var(--accent) 22%, transparent);
}

button,.btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:6px;
  padding:9px 14px;
  border-radius:var(--radius-xs);
  border:1px solid var(--border);
  background:var(--bg-elevated);
  color:var(--text);
  font-weight:600;
  cursor:pointer;
  transition:transform var(--transition),box-shadow var(--transition),border var(--transition),background var(--transition);
  text-decoration:none;
}
button{width:100%;margin-top:16px}
button:hover,.btn:hover{transform:translateY(-1px);border-color:var(--accent);box-shadow:0 10px 22px rgba(0,0,0,.08)}
button:active,.btn:active{transform:translateY(0)}

.btn.primary{
  background:var(--accent);
  border-color:var(--accent);
  color:#fff;
}
.btn.primary:hover{background:var(--accent-strong);border-color:var(--accent-strong)}
.btn.danger{
  background:#7b2e2e;
  border-color:#7b2e2e;
  color:#fff;
}

.err{margin-top:12px;color:#b44646;font-weight:600}
.hint{opacity:.8;font-size:12px;margin-top:14px;color:var(--text-muted)}

.nav{
  display:flex;
  gap:10px;
  padding:16px 18px;
  background:var(--bg-elevated);
  border-bottom:1px solid var(--border);
  position:sticky;
  top:0;
  z-index:10;
  animation:slideDown 380ms ease;
}
.nav a{
  padding:6px 12px;
  border-radius:999px;
  background:var(--bg-muted);
  border:1px solid transparent;
  color:var(--text-muted);
  font-size:.92rem;
}
.nav a:hover{border-color:var(--border);color:var(--text)}

.container{max-width:1100px;margin:24px auto;padding:0 18px;animation:fadeIn 420ms ease}
.card{
  background:var(--bg-elevated);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:18px;
  margin-bottom:18px;
  box-shadow:var(--shadow);
  animation:fadeUp 380ms ease;
}
.row{display:flex;gap:12px;flex-wrap:wrap}
.badge{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:4px 10px;
  border-radius:999px;
  border:1px solid var(--border);
  background:var(--bg-muted);
  font-size:.85rem;
  color:var(--text-muted);
}

table{width:100%;border-collapse:collapse}
td,th{padding:10px;border-bottom:1px solid var(--border);text-align:left;vertical-align:top;font-size:.95rem}
th{color:var(--text-muted);font-weight:600}
.small{font-size:12px;opacity:.75}
input.inline{width:auto}
pre{
  white-space:pre-wrap;
  background:var(--bg);
  border:1px solid var(--border);
  border-radius:var(--radius-sm);
  padding:12px;
  font-size:.88rem;
}

.modal{
  position:fixed;
  inset:0;
  background:color-mix(in srgb, var(--bg) 70%, transparent);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:16px;
  backdrop-filter:blur(6px);
}
.modal-card{max-width:680px;width:92vw}
.qr-image{
  max-width:280px;
  border-radius:var(--radius-sm);
  border:1px solid var(--border);
  background:var(--bg-muted);
}

@media (max-width: 820px){
  .nav{flex-wrap:wrap;gap:8px}
  .nav a{flex:1 1 auto;text-align:center}
}

@media (max-width: 640px){
  .wrap{margin:6vh 16px;padding:22px}
  .container{margin:18px auto;padding:0 14px}
  .row{flex-direction:column;align-items:stretch}
  .btn,button{width:100%}
  table,tbody,tr,td,th{display:block}
  tr{margin-bottom:12px;border:1px solid var(--border);border-radius:var(--radius-sm);padding:8px}
  th{border-bottom:none}
  td{border-bottom:none}
}

@media (prefers-reduced-motion: reduce){
  *{animation:none !important;transition:none !important}
}

@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes fadeUp{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
@keyframes slideDown{from{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}
